<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introduction to R - 3&nbsp; Data for Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./06_student_t-tests.html" rel="next">
<link href="./02_getting_started_with_r.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./05_data_for_analysis.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data for Analysis</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Introduction to R</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_the_r_environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">The R <em>Environment</em></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_getting_started_with_r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started with R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_data_for_analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data for Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_student_t-tests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Student t-tests</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_chi-square_tests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Chi-Square tests</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_linear_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Linear Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_lists.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Lists</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_generalized_linear_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Generalized Linear Models (GLM)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Programming</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#creating-data-random-numbers" id="toc-creating-data-random-numbers" class="nav-link active" data-scroll-target="#creating-data-random-numbers"><span class="header-section-number">3.1</span> Creating Data: Random numbers</a>
  <ul class="collapse">
  <li><a href="#functions-about-probability-distributions" id="toc-functions-about-probability-distributions" class="nav-link" data-scroll-target="#functions-about-probability-distributions"><span class="header-section-number">3.1.1</span> Functions about Probability Distributions</a></li>
  </ul></li>
  <li><a href="#reading-data-from-files" id="toc-reading-data-from-files" class="nav-link" data-scroll-target="#reading-data-from-files"><span class="header-section-number">3.2</span> Reading data from files</a></li>
  <li><a href="#importing-from-excel" id="toc-importing-from-excel" class="nav-link" data-scroll-target="#importing-from-excel"><span class="header-section-number">3.3</span> Importing from Excel</a>
  <ul class="collapse">
  <li><a href="#straight-from-excel" id="toc-straight-from-excel" class="nav-link" data-scroll-target="#straight-from-excel"><span class="header-section-number">3.3.1</span> Straight from Excel</a></li>
  </ul></li>
  <li><a href="#data-from-other-formats" id="toc-data-from-other-formats" class="nav-link" data-scroll-target="#data-from-other-formats"><span class="header-section-number">3.4</span> Data from other Formats</a></li>
  <li><a href="#exporting-data" id="toc-exporting-data" class="nav-link" data-scroll-target="#exporting-data"><span class="header-section-number">3.5</span> Exporting Data</a></li>
  <li><a href="#missing-values-in-data-files" id="toc-missing-values-in-data-files" class="nav-link" data-scroll-target="#missing-values-in-data-files"><span class="header-section-number">3.6</span> Missing Values in Data files</a>
  <ul class="collapse">
  <li><a href="#the-which-function" id="toc-the-which-function" class="nav-link" data-scroll-target="#the-which-function"><span class="header-section-number">3.6.1</span> The <code>which</code> function</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data for Analysis</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="creating-data-random-numbers" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="creating-data-random-numbers"><span class="header-section-number">3.1</span> Creating Data: Random numbers</h2>
<p><strong><span class="sans-serif">R</span></strong> has excellent number generating capabilities. This makes <strong><span class="sans-serif">R</span></strong> a good programming environment for simulation studies. The <code>rnorm</code> function randomly draws from a univariate normal distribution. (The ‘r’ stands for random.)</p>
<p><code>&gt; rnorm(3)</code></p>
<p><code>&gt; rnorm(3, mean=10, sd=0.5)</code></p>
<p><code>&gt; x = rnorm(100, mean=10, sd=2)</code></p>
<p><code>&gt; hist(x, col="blue", main="100 Random Numbers from a Normal Distribution")</code></p>
<p>See <code>help(rnorm)</code> for more details. You can generate from many distributions using functions such as <code>rnorm</code>, <code>rt</code>, <code>rf</code>, <code>rbinom</code>, <code>runif</code>, <code>rexp</code>, and <code>rgamma</code>.</p>
<section id="functions-about-probability-distributions" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="functions-about-probability-distributions"><span class="header-section-number">3.1.1</span> Functions about Probability Distributions</h3>
<p><strong><span class="sans-serif">R</span></strong> is also a source of exact probability tables and therefore eliminates the need to flip to the back of a statistics textbook to calculate probabilities under curves or critical values. For example, you can calculate the 95% critical value of a t distribution with 34 degrees of freedom with the following command:</p>
<p><code>&gt; qt(0.975, df=34)</code></p>
<p>We can find the critical value of a standard normal distribution using <code>qnorm</code>. (The ‘q’ stands for quantile function.)</p>
<p><code>&gt; qnorm(0.975)</code></p>
<p>We can also find cumulative probabilities needed for p-values. (The ‘p’ stands for probability function.)</p>
<p><code>&gt; pnorm(-1.96)</code></p>
</section>
</section>
<section id="reading-data-from-files" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="reading-data-from-files"><span class="header-section-number">3.2</span> Reading data from files</h2>
<p>Researchers often analyze data that are stored in spread-sheet or text formats. The most common function to import data is <code>read.table</code>. Before looking at an example of how <code>read.table</code> is used, let’s consider common issues that arise when reading data into any program.</p>
<ul>
<li><p>What is the file name?</p></li>
<li><p>What is the file type?</p></li>
<li><p>Where is the file located?</p></li>
<li><p>Does the file include variable names?</p></li>
<li><p>How are fields separated (e.g., tab, comma, white-space)?</p></li>
<li><p>How are missing values stored?</p></li>
</ul>
<p>The <code>read.table</code> function is used in <strong><span class="sans-serif">R</span></strong> for importing text data into data set objects. This function requires that you have a valid data table in a text format (where rows are observations, and columns are variables) with every cell containing a data point. If there are any blanks, the function may not work properly. Missing values by default should be coded as NA before attempting to import text data. Columns should be separated by white space.</p>
<p>The <code>read.table</code> function has arguments that allow the user to control data importation features.</p>
<p><code>&gt; help(read.table)</code></p>
<p>The four most important arguments to the <code>read.table</code> function are <em>file</em>, <em>header</em>, <em>sep</em>, and <em>na.strings</em>. Let’s practice by importing the <em>samp2.dat</em> text file. Be sure to first change the working directory to the folder that contains <em>samp2.dat</em>. In <strong><span class="sans-serif">R</span></strong>Studio you can either use the Session &gt; Set Working Directory menu option or use the <code>setwd()</code> function.</p>
<p><code>&gt; gro = read.table("groceries.txt")</code></p>
<p><code>&gt; head(gro)</code></p>
<p><code>&gt; str(gro)</code></p>
<p>By passing only the <em>file</em> argument to <code>read.table</code>, we have left all other arguments at their default values. Notice that <strong><span class="sans-serif">R</span></strong> reads the variable names to be the first row of data rather than the column names. <strong><span class="sans-serif">R</span></strong> has stored the columns of <em>gro</em> as a factor.</p>
<p><code>&gt; gro = read.table("groceries.txt", header=TRUE)</code></p>
<p><code>&gt; head(gro)</code></p>
<p><code>&gt; str(gro)</code></p>
<p><code>&gt; tail(gro)</code></p>
<p><code>&gt; summary(gro)</code></p>
<p><code>&gt; dim(gro)</code></p>
</section>
<section id="importing-from-excel" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="importing-from-excel"><span class="header-section-number">3.3</span> Importing from Excel</h2>
<p>“How do I import my data into <strong><span class="sans-serif">R</span></strong> from Excel?” is a common question.</p>
<p>My answer is often: “Don’t!”</p>
<p>Excel spreadsheets contain attributes and formatting that often cause difficulty when transferring files between applications. In particular, dates, or text that looks like dates, are troublesome. Zip codes and MRNs lose their leading zeros. The easiest thing to do is to first export the data into either a tab-delimited (.dat, .tsv) or comma separated values (.csv) file. After the file is in a more portable format, then use <code>read.table</code> or <code>read.csv</code> into <strong><span class="sans-serif">R</span></strong>.</p>
<p>We use the <em>samp2.csv</em> file for practice.</p>
<p><code>&gt; dat2 = read.csv("samp2.csv", na.strings=c(NA, 88, 999))</code></p>
<p><code>&gt; dat2</code></p>
<p><code>read.csv</code> simply invokes <code>read.table</code> with a different set of default arguments. Notice that the default for <code>read.csv</code> is to include a header.</p>
<p><code>&gt; help(read.csv)</code></p>
<section id="straight-from-excel" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="straight-from-excel"><span class="header-section-number">3.3.1</span> Straight from Excel</h3>
<p>However it is possible to skip the .csv step using one of several <strong><span class="sans-serif">R</span></strong> packages. Option 1: Use the Import Dataset button above the environment window in <strong><span class="sans-serif">R</span></strong>Studio (obviously this only applies if using <strong><span class="sans-serif">R</span></strong>Studio). Option 2: Use the <code>read_excel</code> function in the <code>readxl</code> package (actually, Option 1 uses Option 2). Option 3: use package <code>xlsx</code>. Option 4: ...</p>
<p>These approaches may result in slightly different data formats. This is not a problem, just be certain to investigate your data after loading.</p>
</section>
</section>
<section id="data-from-other-formats" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="data-from-other-formats"><span class="header-section-number">3.4</span> Data from other Formats</h2>
<p><strong><span class="sans-serif">R</span></strong> can read directly from other formats with varying levels of success. Functions exist for fixed width formats, .sas7bdat, SAS xport, SPSS, Stata, DBF, ...</p>
</section>
<section id="exporting-data" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="exporting-data"><span class="header-section-number">3.5</span> Exporting Data</h2>
<p><strong><span class="sans-serif">R</span></strong> has facilities for exporting data. Suppose you make changes to a data set within <strong><span class="sans-serif">R</span></strong> and you want to save those changes permanently in a .csv or .xls file. The <code>write.csv</code> command exports an <strong><span class="sans-serif">R</span></strong> object to a text file. All you have to do is give <code>write.csv</code> two arguments: 1) the <strong><span class="sans-serif">R</span></strong> object to be exported, and 2) the name of the file.</p>
<p>For example, <code>write.csv(M, "newfile.csv")</code> will export the <strong><span class="sans-serif">R</span></strong> object <code>M</code> to a newly created file <code>newfile.csv</code>. We will modify <code>dat2</code> to include an <code>id</code> variable, and we write the updated data object to a csv file.</p>
<p><code>&gt; dat2$id = 1:nrow(dat2)</code></p>
<p><code>&gt; dat2</code></p>
<p><code>&gt; write.csv(dat2, "newfile.csv")</code></p>
<p><strong><span class="sans-serif">R</span></strong> can also write to text files using <code>write.table</code>.</p>
</section>
<section id="missing-values-in-data-files" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="missing-values-in-data-files"><span class="header-section-number">3.6</span> Missing Values in Data files</h2>
<p>Data files can represent missing data in many ways. Often Excel files have blank cells. Text files may use a special value such as 999 to represent missingness. SAS uses a period. Different codes may specify different reasons for the missingness such as non-response or an unreasonable value.</p>
<p>There are several ways to convert these conventions to NA in <strong><span class="sans-serif">R</span></strong> so they will (more likely) be treated properly in analyses. (There are entire statistics courses on “properly” dealing with missing data.)</p>
<p>Suppose that the <span class="math inline">\(88\)</span> and <span class="math inline">\(999\)</span> are codes indicating missing values. We want <strong><span class="sans-serif">R</span></strong> to interpret these values as missing rather than numeric. We can change these values to NA after reading in the data. First we identify them and then replace them by NA.</p>
<p><code>&gt; dat = read.csv("samp2.csv")</code></p>
<p><code>&gt; dat</code></p>
<p><code>&gt; dat$z == 88 | dat$z == 999</code></p>
<p><code>&gt; dat$z[dat$z == 88 | dat$z == 999]</code></p>
<p><code>&gt; dat$z[dat$z == 88 | dat$z == 999] = NA</code></p>
<p><code>&gt; dat</code></p>
<section id="the-which-function" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="the-which-function"><span class="header-section-number">3.6.1</span> The <code>which</code> function</h3>
<p>While we are on the subject of missing data (NA) and logical values (TRUE, FALSE), I want to mention the <code>which</code> function. It statement takes a logical statement (or a series of logical statements, some which may be missing) as an argument. It returns the indices for which the logical statement is TRUE.</p>
<p><code>&gt; a = c(6, 9, 10, 2, 999, NA)</code></p>
<p><code>&gt; is.na(a)</code></p>
<p><code>&gt; which(is.na(a))</code></p>
<p><code>&gt; which(!is.na(a))</code></p>
<p><code>&gt; a == 999</code></p>
<p><code>&gt; a[a == 999]</code></p>
<p><code>&gt; which(a == 999)</code></p>
<p><code>&gt; a[which(a == 999)]</code></p>
<p><code>&gt; a[which(a == 999)] = NA</code></p>
<p><code>&gt; a</code></p>
<p><code>&gt; is.na(a)</code></p>
<p>The <code>which</code> command is a very powerful tool for data management. Consider the following three scenarios:</p>
<ul>
<li><p>You have a data set and wish to perform an analysis on only males.</p></li>
<li><p>All missing values have been coded as 99, 888, or 999.</p></li>
<li><p>A scatterplot reveals several outliers, and you need to identify the cases corresponding to the outliers.</p></li>
</ul>
<p>In each scenario, <code>which</code> can be used to select the appropriate subset of the data.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./02_getting_started_with_r.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started with R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./06_student_t-tests.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Student t-tests</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>